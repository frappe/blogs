{% extends "templates/web.html" %}

{% block meta_block %}
	{% include "templates/includes/meta_block.html" %}
{% endblock %}

{% block page_content %}
<div class="blog-container">
	<article class="blog-content mb-3" itemscope itemtype="http://schema.org/BlogPosting">
		<!-- begin blog content -->
		<div class="py-5">
			<div>
				<a class="mr-2" href="/blog">{{ _('Blog') }}</a>
				<span class="text-muted">/</span>
				<a class="ml-2" href="/blog/{{ category.title }}">{{ category.title }}</a>
			</div>
			<h1 itemprop="headline" class="blog-header">{{ title }}</h1>
			<p class="blog-intro">
				{{ blog_intro }}
			</p>
			{%-if featured -%}
				<div class="mb-2 text-muted text-uppercase small">
					<i class="fa fa-star"></i> {{ _("Featured") }}
				</div>
			{%- endif -%}
			<div class="text-muted d-flex justify-content-between">
				<div>
					{{ frappe.format_date(published_on) }}
					{% if read_time %}
						&middot;
						{{ read_time }} min read
					{% endif %}
				</div>
				<div>
					{% if social_links %}
					{% for link in social_links %}
						<a href="{{ link.link }}" class="text-muted ml-2 fa fa-{{ link.icon }}" target="_blank"></a>
					{% endfor %}
					{% endif %}
				</div>
			</div>
		</div>
		<div itemprop="articleBody">
			{{ content }}
		</div>
		<!-- end blog content -->
	</article>
	{% if not hide_cta %}
		{{ web_blocks([
				{
					'template': "Section With Small CTA",
					'values': cta,
					'add_container': 0,
					'add_top_padding': 0,
					'add_bottom_padding': 0,
					'css_class': "py-5"
				}
			])
		}}
	{% endif %}

	{% if blogger_info %}
	<hr class="my-5">
	{% include "templates/includes/blog/blogger.html" %}
	{% endif %}

	{% if not disable_comments %}
		<div class="blog-comments my-5">
			{% include 'templates/includes/comments/comments.html' %}
		</div>
	{% endif %}

</div>
<script>
	frappe.ready(() => frappe.set_search_path("/blog"))
</script>
{% endblock %}