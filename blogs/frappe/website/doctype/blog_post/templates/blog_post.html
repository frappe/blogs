{% extends "templates/web.html" %}

{% block meta_block %}
	{% include "templates/includes/meta_block.html" %}
{% endblock %}

{% block page_content %}
<div class="blog-container">
	<article class="blog-content mb-3" itemscope itemtype="http://schema.org/BlogPosting">
		<!-- begin blog content -->
		<div class="my-5">
			<div>
				<a class="mr-2" href="/blog">{{ _('Blog') }}</a>
				<span class="text-muted">/</span>
				<a class="ml-2" href="/blog/{{ category.title }}">{{ category.title }}</a>
			</div>
			<h1 itemprop="headline" class="blog-header">{{ title }}</h1>
			<p class="blog-intro">
				{{ blog_intro }}
			</p>
			<div class="text-muted">
				{{ frappe.format_date(published_on) }}
				{% if read_time %}
					&middot;
					{{ read_time }} min read
				{% endif %}
			</div>
		</div>
		<div itemprop="articleBody">
			{{ content }}
		</div>
		<!-- end blog content -->
	</article>
	{% if enable_cta %}
		{{ web_blocks([
				{
					'template': "Section With Small CTA",
					'values': cta,
					'add_container': 0,
					'add_top_padding': 0,
					'add_bottom_padding': 0,
					'css_class': "my-5"
				}
			])
		}}
	{% endif %}
	<div class="text-muted d-flex justify-content-between mt-5">
		<div>
			Published on {{ frappe.format_date(published_on) }}
		</div>
		<div>
			{% if social_links %}
				{% for link in social_links %}
					<a href="{{ link.link }}" class="text-muted ml-2 fa fa-{{ link.icon }}" target="_blank"></a>
				{% endfor %}
			{% endif %}
		</div>
	</div>

	{% if blogger_info %}
	<hr class="my-5">
	{% include "templates/includes/blog/blogger.html" %}
	{% endif %}

	{% if not disable_comments %}
		<div class="blog-comments my-5">
			{% include 'templates/includes/comments/comments.html' %}
		</div>
	{% endif %}

</div>
<script>
	frappe.ready(() => frappe.set_search_path("/blog"))
</script>
{% endblock %}